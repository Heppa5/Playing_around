test_opt_func